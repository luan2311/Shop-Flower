
@{
    ViewBag.Title = "Giỏ hoa chúc mừng";
    Layout = "~/Views/Shared/_LayoutChung.cshtml";
}

<div class="layout-collection">
    <div class="container">
        <div class="row">
            <div class="col-12 col-title">
                <h1>Giỏ Hoa Chúc Mừng</h1>
            </div>
            <div class="col-12 col-list-cate">
                <div class="menu-list">
                </div>
            </div>

            <div class="block-collection col-lg-12 col-12">
                <div class="category-products products-view products-view-grid list_hover_pro">
                    <div class="filter-containers">

                        <div class="sort-cate clearfix">
                            <div class="sort-cate-right">
                                <h3>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-alpha-down" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"></path>
                                        <path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"></path>
                                    </svg> Xếp theo
                                </h3>
                                <ul>
                                    <li class="btn-quick-sort default @(ViewBag.CurrentSort == "" || ViewBag.CurrentSort == "default" ? "active" : "")">
                                        @Html.ActionLink("Mặc định", "gio_hoa_chuc_mung", new { sortOrder = "default" }, new { title = "Mặc định" })
                                    </li>
                                    <li class="btn-quick-sort alpha-asc @(ViewBag.CurrentSort == "alpha-asc" ? "active" : "")">
                                        @Html.ActionLink("Tên A-Z", "gio_hoa_chuc_mung", new { sortOrder = "alpha-asc" }, new { title = "Tên A-Z" })
                                    </li>
                                    <li class="btn-quick-sort alpha-desc @(ViewBag.CurrentSort == "alpha-desc" ? "active" : "")">
                                        @Html.ActionLink("Tên Z-A", "gio_hoa_chuc_mung", new { sortOrder = "alpha-desc" }, new { title = "Tên Z-A" })
                                    </li>
                                    <li class="btn-quick-sort price-asc @(ViewBag.CurrentSort == "price-asc" ? "active" : "")">
                                        @Html.ActionLink("Giá thấp đến cao", "gio_hoa_chuc_mung", new { sortOrder = "price-asc" }, new { title = "Giá thấp đến cao" })
                                    </li>
                                    <li class="btn-quick-sort price-desc @(ViewBag.CurrentSort == "price-desc" ? "active" : "")">
                                        @Html.ActionLink("Giá cao xuống thấp", "gio_hoa_chuc_mung", new { sortOrder = "price-desc" }, new { title = "Giá cao xuống thấp" })
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>


                    <div class="products-view products-view-grid list_hover_pro">
                        <div class="row">
                            @foreach (var item in Model)
                            {
                                <div class="col-6 col-md-3">
                                    <div class="item_product_main">

                                        <form action="@Url.Action("ThemGioHang", "Cart", new { @ms = item.MaSP, @strURL = Request.Url.ToString()})" method="post" class="variants product-action item-product-main duration-300" data-cart-form="" data-id="product-actions-57772035" enctype="multipart/form-data">

                                            <div class="product-thumbnail">
                                                <a class="image_thumb scale_hover" href="@Url.Action("chi_tiet_san_pham", "SanPham", new { id = item.MaSP.Trim() })" title="@item.TenSP">
                                                    <img class="lazyload duration-300 loaded" src="~/Images/@item.AnhSP" alt="@item.TenSP" data-was-processed="true">
                                                </a>
                                                <div class="action-button">
                                                    @*<a title="Xem nhanh" href="@Url.Action("chi_tiet_san_pham", "SanPham", new { id = item.MaSP.Trim() })" class="xem_nhanh btn-circle btn-views btn_view btn right-to quick-view">
                                                        <img class="view_img" width="25" height="25" src="//bizweb.dktcdn.net/100/487/411/themes/957692/assets/eye.svg?1757405855081" alt="Xem nhanh">
                                                    </a>*@

                                                    <a href="@Url.Action("ThemVaoYeuThich", "WishList", new { @ms = item.MaSP, @strURL = Request.Url.ToString()})" class="setWishlist btn-views btn-circle" tabindex="0" title="Thêm vào yêu thích">
                                                        <img width="25" height="25" src="//bizweb.dktcdn.net/100/487/411/themes/957692/assets/heart.png?1757405855081" alt="Thêm vào yêu thích">
                                                    </a>

                                                </div>
                                            </div>
                                            <div class="product-info">
                                                <h3 class="product-name line-clamp line-clamp-2">
                                                    <a href="@Url.Action("chi_tiet_san_pham", "SanPham", new { id = item.MaSP.Trim() })" title="@item.TenSP">@item.TenSP</a>
                                                </h3>
                                                <div class="product-price-cart">
                                                    <div class="price-box">
                                                        <span class="price">@String.Format("{0:N0} đ", @item.GiaBan)</span>
                                                    </div>
                                                    <div class="product-button">
                                                        <input type="hidden" name="variantId" value="171650104">
                                                        <button class="btn-cart btn-views add_to_cart " title="Thêm vào giỏ hàng">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-cart-plus" viewBox="0 0 16 16">
                                                                <path d="M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"></path>
                                                                <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            }
                            <div class="pagenav">
                                <nav class="collection-paginate clearfix relative nav_pagi w_100">
                                    <ul class="pagination clearfix">
                                        @if (ViewBag.CurrentPage > 1)
                                        {
                                            <li class="page-item">
                                                <a class="page-link" href="@Url.Action("gio_hoa_chuc_mung", new { page = ViewBag.CurrentPage - 1, sortOrder = ViewBag.CurrentSort })">«</a>
                                            </li>
                                        }
                                        else
                                        {
                                            <li class="page-item disabled">
                                                <a class="page-link" href="#">«</a>
                                            </li>
                                        }

                                        @for (int i = 1; i <= ViewBag.TotalPages; i++)
                                        {
                                            if (i == ViewBag.CurrentPage)
                                            {
                                                <li class="page-item active">
                                                    <a class="page-link" href="javascript:;" style="pointer-events:none">@i</a>
                                                </li>
                                            }
                                            else
                                            {
                                                <li class="page-item">
                                                    <a class="page-link" href="@Url.Action("gio_hoa_chuc_mung", new { page = i, sortOrder = ViewBag.CurrentSort })">@i</a>
                                                </li>
                                            }
                                        }

                                        @if (ViewBag.CurrentPage < ViewBag.TotalPages)
                                        {
                                            <li class="page-item">
                                                <a class="page-link" href="@Url.Action("gio_hoa_chuc_mung", new { page = ViewBag.CurrentPage + 1, sortOrder = ViewBag.CurrentSort })">»</a>
                                            </li>
                                        }
                                        else
                                        {
                                            <li class="page-item disabled">
                                                <a class="page-link" href="#">»</a>
                                            </li>
                                        }
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



